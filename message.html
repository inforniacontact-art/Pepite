<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0a0506" />
  <title>PÃ©pite</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&family=Caveat:wght@400;500;600;700&display=swap"
    rel="stylesheet"
  />
  <style id="dynamic-styles">
    /* Les styles seront injectÃ©s dynamiquement ici */
  </style>
  <style>
    /* Styles de base communs */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    html, body {
      height: 100%;
    }
    body {
      font-family: "Monotype Corsiva", cursive;
      overflow-x: hidden;
      min-height: 100vh;
      transition: background 0.5s ease;
    }
    .navbar {
      width: 100%;
      backdrop-filter: blur(10px);
      position: sticky;
      top: 0;
      z-index: 1000;
      transition: all 0.3s ease;
    }
    .navbar ul {
      display: flex;
      justify-content: center;
      gap: 1rem;
      list-style: none;
      padding: 0.8rem 1rem;
      margin: 0;
    }
    .navbar .nav-link {
      text-decoration: none;
      font-family: "Caveat", cursive;
      font-size: 1rem;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      transition: all 0.3s ease;
      cursor: pointer;
    }
    .container {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem 1rem;
      position: relative;
      z-index: 1;
    }
    .title {
      font-family: "Monotype Corsiva", cursive;
      font-size: clamp(2.5rem, 5vw, 3.5rem);
      font-weight: 600;
      text-align: center;
      margin: 0 0 2rem 0;
      letter-spacing: 0.05em;
      flex-shrink: 0;
      transition: color 0.3s ease;
    }
    .poem-container {
      flex: 1;
      width: min(850px, 95vw);
      border-radius: 20px;
      padding: clamp(1.5rem, 3vw, 2.5rem);
      backdrop-filter: blur(10px);
      position: relative;
      display: flex;
      flex-direction: column;
      min-height: 0;
      margin-bottom: 2rem;
      transition: all 0.3s ease;
    }
    .poem {
      font-family: "Times New Roman", serif;
      font-size: clamp(1rem, 2.5vw, 1.5rem);
      font-weight: 400;
      line-height: 1.5;
      white-space: pre-wrap;
      word-wrap: break-word;
      overflow-wrap: anywhere;
      position: relative;
      flex: 1;
      overflow-y: auto;
      padding-right: 5px;
      min-height: 2em;
    }
    .cursor {
      display: inline-block;
      width: 3px;
      height: 1em;
      border-radius: 1px;
      margin-left: 1px;
      animation: pulse 1.2s ease-in-out infinite;
      transform: translateY(0.1em);
    }
    @keyframes pulse {
      0%, 100% {
        opacity: 1;
        transform: translateY(0.1em) scaleY(1);
      }
      50% {
        opacity: 0.3;
        transform: translateY(0.1em) scaleY(0.8);
      }
    }
    .controls {
      display: flex;
      gap: 0.5rem;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 1rem;
      flex-shrink: 0;
    }
    .btn {
      padding: 0.6rem 1rem;
      border-radius: 20px;
      cursor: pointer;
      font-family: "Caveat", cursive;
      font-size: clamp(0.8rem, 2vw, 0.9rem);
      font-weight: 500;
      letter-spacing: 0.03em;
      transition: all 0.3s ease;
      backdrop-filter: blur(5px);
      position: relative;
      overflow: hidden;
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      min-width: 80px;
      justify-content: center;
    }
    .writing-line {
      display: inline;
      opacity: 0;
      animation: fadeInWrite 0.1s ease-in forwards;
    }
    @keyframes fadeInWrite {
      from {
        opacity: 0;
        transform: translateY(5px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .audio-controls {
      position: initial;
      z-index: 10;
      display: flex;
      flex-direction: column;
      gap: 0.8rem;
      align-items: flex-end;
      margin-top: 5rem;
    }
    .soundcloud-widget {
      border-radius: 15px;
      padding: 0.8rem;
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
      width: 280px;
      max-width: calc(100vw - 2rem);
    }
    .soundcloud-header {
      display: flex;
      align-items: center;
      gap: 0.6rem;
      margin-bottom: 0.8rem;
    }
    .soundcloud-icon {
      width: 20px;
      height: 20px;
      flex-shrink: 0;
    }
    .soundcloud-title {
      font-family: "Caveat", cursive;
      font-size: 0.9rem;
      font-weight: 600;
      margin: 0;
    }
    .soundcloud-link {
      text-decoration: none;
      font-size: 0.8rem;
      display: block;
      margin-top: 0.3rem;
      transition: color 0.3s ease;
    }
    .audio-player {
      display: flex;
      gap: 0.5rem;
      align-items: center;
      border-radius: 25px;
      padding: 0.6rem 1rem;
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
    }
    .audio-toggle {
      background: none;
      border: none;
      font-size: 1rem;
      cursor: pointer;
      padding: 0.2rem;
      border-radius: 50%;
      width: 2rem;
      height: 2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }
    .audio-status {
      font-family: "Caveat", cursive;
      font-size: 0.85rem;
      margin-left: 0.3rem;
    }
    .volume-slider {
      width: 60px;
      height: 4px;
      border-radius: 2px;
      outline: none;
      cursor: pointer;
      -webkit-appearance: none;
    }
    .bg-particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
    }
    .particle {
      position: absolute;
      width: 2px;
      height: 2px;
      border-radius: 50%;
      opacity: 0.4;
      animation: float 12s linear infinite;
    }
    @keyframes float {
      0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 0.2;
      }
      90% {
        opacity: 0.2;
      }
      100% {
        transform: translateY(-100px) rotate(360deg);
        opacity: 0;
      }
    }

    .blood-drop {
      position: absolute;
      border-radius: 50% 50% 50% 0;
      transform: rotate(-45deg);
      animation: bloodDrip linear infinite;
      opacity: 0.8;
    }
    @keyframes bloodDrip {
      0% {
        top: -20px;
        opacity: 0;
      }
      5% {
        opacity: 0.8;
      }
      95% {
        opacity: 0.6;
      }
      100% {
        top: 100vh;
        opacity: 0;
      }
    }
    .blood-trail {
      position: absolute;
      width: 2px;
      border-radius: 1px;
      animation: trailFade linear infinite;
    }
    @keyframes trailFade {
      0% {
        height: 0;
        opacity: 0;
      }
      10% {
        opacity: 0.6;
      }
      90% {
        opacity: 0.3;
      }
      100% {
        height: 40px;
        opacity: 0;
      }
    }
    @media (max-width: 768px) {
      .container {
        padding: 1rem 0.5rem;
      }
      .poem-container {
        width: min(750px, 96vw);
      }
    }
    @media (max-width: 480px) {
      .container {
        padding: 0.8rem 0.15rem;
      }
      .poem-container {
        width: min(700px, 98.5vw);
        padding: 1rem 0.5rem;
      }
    }
  </style>
</head>
<body>
  <nav class="navbar">
    <ul>
      <li><a class="nav-link" data-page="message">Message</a></li>
      <li><a class="nav-link" data-page="pepite">PÃ©pite</a></li>
      <li><a class="nav-link" data-page="souvenir">Souvenir</a></li>
      <li><a class="nav-link" data-page="bourgeon">Bourgeon</a></li>
    </ul>
  </nav>

  <div class="bg-particles" id="particles"></div>
  
  <div class="container">
    <h1 class="title" id="pageTitle">Message</h1>
    <div class="main-content">
      <div class="poem-container">
        <div id="poem" class="poem" aria-live="polite"></div>
      </div>
      <div class="controls">
        <button id="btnStart" class="btn">â–¶ DÃ©marrer</button>
        <button id="btnPlay" class="btn" style="display: none">Rejouer</button>
        <button id="btnPause" class="btn" style="display: none">Pause</button>
        <button id="btnResume" class="btn" style="display: none">Reprendre</button>
        <button id="btnSkip" class="btn">Afficher tout</button>
      </div>
    </div>
    <div class="audio-controls">
      <div class="soundcloud-widget">
        <div class="soundcloud-header">
          <svg class="soundcloud-icon" viewBox="0 0 24 24">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10c1.19 0 2.34-.21 3.41-.6.3-.11.49-.4.49-.72 0-.43-.35-.78-.78-.78-.18 0-.35.06-.49.16-.82.29-1.69.44-2.63.44-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6c0 .55-.45 1-1 1H15c-1.65 0-3 1.35-3 3s1.35 3 3 3h1c.55 0 1 .45 1 1s-.45 1-1 1h-1c-2.76 0-5-2.24-5-5s2.24-5 5-5h1c1.65 0 3 1.35 3 3 0 4.42-3.58 8-8 8z"/>
          </svg>
          <div>
            <h3 class="soundcloud-title" id="musicTitle">Puck Road</h3>
            <a id="musicLink" href="#" target="_blank" rel="noopener noreferrer" class="soundcloud-link">Ã‰couter sur SoundCloud</a>
          </div>
        </div>
      </div>
      <div class="audio-player">
        <button id="audioToggle" class="audio-toggle">ðŸ”‡</button>
        <span id="audioStatus" class="audio-status">Activer le son</span>
        <input id="volumeSlider" type="range" min="0" max="1" step="0.01" value="0.6" class="volume-slider"/>
      </div>
    </div>
    <audio id="ambientAudio" loop preload="auto">
      <source id="audioSource" src="" type="audio/mpeg"/>
    </audio>
  </div>

  <script>
    // Configuration des pages
    const pages = {
      message: {
        title: "Message",
        text: `Une nouvelle semaine est passÃ©e
Une de plus oÃ¹ j'ai envie de te remercier
Pour nos vies, c'Ã©tait important de croiser nos chemin
J'ai vu la perle que tu as vue en moi,
J'espÃ¨re que tu vois la pÃ©pite que j'ai vue en toi

Je perpÃ©tue ma vibe authentique,
J'ai des potes qui ne voient pas Ã  quel point ils sont gÃ©niaux,
Je les force avec 2/3 coups de batte dans la figure histoire qu'ils s'en rendent compte
De la mÃªme maniÃ¨re que j'avais envie de me mettre des giffles et toi aussi.

Je ne me reconnais plus, je suis devenu un homme qui arrive Ã  s'intimider
Tel un gars qui avait de longs cheveux et une grosse barbe qui finit par se les raser,
Qui dÃ©couvre son visage, son crÃ¢ne Ã  la fois est un mix entre un militaire et un moine bouddhiste

Les gens se demandent quelle fille j'ai dans ma vie pour changer Ã  ce point
Ils ne se douteraient jamais que la fille en question a Ã©tÃ© connue de maniÃ¨re trÃ¨s Ã©phÃ©mÃ¨re
Qu'elle n'est plus lÃ  depuis un bon moment

Je suis un peu dÃ©goÃ»tÃ© parce que je ne pourrai pas t'aider en retour
J'ai peur que tu deviennes cette fille que je ne connais que trop bien
Ces filles dont je n'ai jamais Ã©tÃ© attirÃ©, que je n'ai jamais voulu avoir ne serait-ce qu'un seul instant dans ma vie
Je me suis aperÃ§u que je n'ai cherchÃ© et touchÃ© que des filles qui cherchaient une relation
Comme n'importe quel homme j'ai fantasmÃ© sur les coups d'un soir, vu que c'est la norme de la sociÃ©tÃ© d'avoir beaucoup d'expÃ©rience avec plein de filles
Et pourtant je n'ai jamais rÃ©ussi Ã  coucher totalement avec, des embrassades, des prÃ©liminaires tout au plus, mais impossible de coucher avec une femme que je n'aime pas, aussi belle soit-elle, aussi forte soit la luxure, mÃªme bourrÃ©

Tu as raison, je suis draguÃ© au boulot, pas que d'ailleurs, mais je ne m'en rendais pas compte
AprÃ¨s ce sont des femmes fiancÃ©es, mariÃ©es, en couple, des femmes intÃ¨gre, droite et sÃ©rieuse comme toi hein ?

La vie est injuste, tu me dis que tu es bien entourÃ©e, mais je n'y crois pas
J'ai la certitude que ce qui a sabotÃ© notre rencontre c'est ce qu'on t'a mis dans la tÃªte
J'assume ma responsabilitÃ© d'avoir aimÃ© fort, authentiquement
Et tu as trÃ¨s bien fait de mettre un terme Ã  tout Ã§a d'ailleurs,
j'allais tout sauf devenir qui je suis devenu et en train de devenir, impossible

Mais en mÃªme temps que tu mets un terme Ã  tout Ã§a, j'ai eu un goÃ»t amer pour ton avenir:
Toi qui me disais vouloir te marier, avoir des enfants, voir tes copines dÃ©jÃ  mariÃ©es...
Ã‡a implique un grand sacrifice, une grande discipline, celle avec laquelle on t'a Ã©duquÃ©e,
Mais celle qui je pense Ã©tait en train de s'effriter

La premiÃ¨re femme dont j'ai Ã©tÃ© amoureux est en train de vivre Ã§a, et toi, la deuxiÃ¨me femme dont je suis tombÃ© amoureux, tu vas probablement connaÃ®tre la mÃªme chose.
Mais pas tout de suite Ã©videmment
Pendant plusieurs annÃ©es tu vas t'amuser, tu vas profiter et vivre de grandes choses, mais potentiellement tu vas sacrifier 50 ans derriÃ¨re
Mais en vrai je devrais m'en foutre de tout Ã§a, c'est pas mon problÃ¨me et puis de toute maniÃ¨re tu m'as assurÃ© que tu Ã©tais bien entourÃ©e. Soit, j'aimerais que ce soit vrai
J'ai hÃ¢te de voir dans 10, 15 ans que j'avais tort
J'ai hÃ¢te de voir que tu es restÃ©e une belle femme et devenue une maman incroyable !
C'est peut-Ãªtre celui-lÃ  le vrai message que j'avais envie de transmettre`,
        audio: "",
        musicTitle: "",
        musicLink: "#",
        volume: 0,
        isStatic: true,
        styles: `
          :root {
            --bg-primary: #f5f5f5;
            --bg-secondary: #e8e8e8;
            --text-primary: #2c2c2c;
            --text-secondary: #4a4a4a;
            --accent: #5a5a5a;
            --accent-soft: #7a7a7a;
            --card-bg: rgba(255, 255, 255, 0.95);
            --card-border: rgba(90, 90, 90, 0.1);
            --button-bg: rgba(90, 90, 90, 0.05);
            --button-hover: rgba(90, 90, 90, 0.15);
            --shadow-soft: 0 4px 16px rgba(0, 0, 0, 0.08);
            --shadow-strong: 0 8px 32px rgba(0, 0, 0, 0.12);
          }
          body {
            background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
            color: var(--text-primary);
          }
          .navbar {
            background: var(--card-bg);
            border-bottom: 1px solid var(--card-border);
            box-shadow: var(--shadow-soft);
          }
          .nav-link {
            color: var(--text-primary);
          }
          .nav-link:hover {
            background: var(--button-hover);
            color: var(--accent);
          }
          .title {
            color: var(--accent);
            text-shadow: none;
            font-family: "Georgia", serif;
            font-weight: 400;
          }
          .poem-container {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            box-shadow: var(--shadow-strong);
          }
          .poem {
            color: var(--text-primary);
            font-family: "Georgia", serif;
            font-size: clamp(1rem, 2.5vw, 1.2rem);
            line-height: 1.8;
            text-align: justify;
          }
          .cursor {
            background: var(--accent);
            box-shadow: none;
          }
          .btn {
            background: var(--button-bg);
            border: 1px solid var(--card-border);
            color: var(--text-primary);
          }
          .btn:hover {
            background: var(--button-hover);
            color: var(--accent);
            border-color: var(--accent-soft);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
          }
          .soundcloud-widget, .audio-player {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            box-shadow: var(--shadow-soft);
          }
          .soundcloud-icon {
            fill: var(--accent);
          }
          .soundcloud-title {
            color: var(--text-primary);
          }
          .soundcloud-link {
            color: var(--accent);
          }
          .audio-status {
            color: var(--text-secondary);
          }
          .volume-slider {
            background: var(--card-border);
          }
          .volume-slider::-webkit-slider-thumb, .volume-slider::-moz-range-thumb {
            background: var(--accent);
          }
        `
      },
      pepite: {
        title: "PÃ©pite",
        text: `PÃ©pite, toi la fille de passage
Rayonnante, douce, gentille et sage
Dont la splendeur contamina les coeurs
Avec intelligence et vie en couleurs

Munis de talons, ta collection rÃªvÃ©e,
C'est sur la piste que tu t'en vas briller 
Tu impressionnes tant par ton aura et ta dance,
Que Grace Kelly Ã©pierai ton Ã©lÃ©gance.

Tes petites attentions sont de prÃ©cieux cadeaux,
Si bien que tout les maux se dissipent aussitÃ´t,
Ta crÃ©ativitÃ© et tes idÃ©es dÃ©bordantes
Rendent chaque histoire unique et marquante.

Autour d'un mariage et d'un amour sincÃ¨re
Trois Quatre enfants verront la lumiÃ¨re,
Muni de ta jeunesse, ton avenir est clair
PÃ©pite, sera une mÃ¨re extraordinaire.`,
        audio: "https://github.com/inforniacontact-art/Pepite/raw/refs/heads/main/21%202_4(1).mp3",
        musicTitle: "Puck Road",
        musicLink: "https://soundcloud.com/mickawolf/puck-road",
        volume: 0.15,
        styles: `
          :root {
            --bg-primary: #ffe6f0;
            --bg-secondary: #ffd9e8;
            --bg-accent: #ffb3cc;
            --text-primary: #4d0033;
            --text-secondary: #660066;
            --accent: #ff66a3;
            --accent-soft: #ff99cc;
            --cursor: #ff3399;
            --card-bg: rgba(255, 230, 240, 0.85);
            --card-border: rgba(255, 102, 163, 0.15);
            --button-bg: rgba(255, 102, 163, 0.1);
            --button-hover: rgba(255, 102, 163, 0.2);
            --shadow-soft: 0 8px 32px rgba(0, 0, 0, 0.2);
            --shadow-strong: 0 16px 48px rgba(0, 0, 0, 0.4);
          }
          body {
            background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 50%, var(--bg-accent) 100%);
            color: var(--text-primary);
          }
          .navbar {
            background: var(--card-bg);
            border-bottom: 1px solid var(--card-border);
            box-shadow: var(--shadow-soft);
          }
          .nav-link {
            color: var(--text-primary);
          }
          .nav-link:hover {
            background: var(--button-hover);
            color: var(--accent);
          }
          .title {
            color: var(--accent);
            text-shadow: 0 4px 20px rgba(232, 168, 124, 0.3);
          }
          .poem-container {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            box-shadow: var(--shadow-strong);
          }
          .poem {
            color: var(--text-primary);
          }
          .cursor {
            background: linear-gradient(180deg, var(--cursor) 0%, rgba(240, 176, 144, 0.3) 100%);
            box-shadow: 0 0 10px var(--cursor);
          }
          .btn {
            background: var(--button-bg);
            border: 1px solid var(--card-border);
            color: var(--text-primary);
          }
          .btn:hover {
            background: var(--button-hover);
            color: var(--accent);
            border-color: var(--accent-soft);
          }
          .particle {
            background: var(--accent);
            box-shadow: 0 0 3px var(--accent);
          }
          .soundcloud-widget, .audio-player {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            box-shadow: var(--shadow-soft);
          }
          .soundcloud-icon {
            fill: #ff5500;
          }
          .soundcloud-title {
            color: var(--text-primary);
          }
          .soundcloud-link {
            color: var(--accent);
          }
          .audio-status {
            color: var(--text-secondary);
          }
          .volume-slider {
            background: var(--card-border);
          }
          .volume-slider::-webkit-slider-thumb {
            background: var(--accent);
          }
          .volume-slider::-moz-range-thumb {
            background: var(--accent);
          }
        `
      },
      souvenir: {
        title: "Souvenir d'une vie",
        text: `Je ne suis pas intÃ©ressÃ©, mais intÃ©ressÃ© par celle qui s'intÃ©resse.
Au lieu de m'attirer physiquement, tu m'as touchÃ© intellectuellement.
J'ai vite perdu en clartÃ©, mon cerveau s'est enlisÃ©,
Les Ã©motions m'ont frappÃ©, mon cÅ“ur fut kidnappÃ©.

La personne que j'Ã©tais se retrouve en captivitÃ©,
Incapable de proposer, trop stimulÃ© pour discuter.
J'en perds mon authenticitÃ©, je suis le pantin de ma chimie,
Je deviens vite un larbin, pilotÃ© par mes circuits.

J'entends tes attentes, j'Ã©coute ce que tu dis, 
Mais rude est la pente de ce que tu m'as instruit.
J'Ã©choue et trÃ©buche, tel un apprenti,
Et comme un jeune pruche, je pousse et grandis.

Une sortie cinÃ©ma, voir un film miteux,
Une promenade nocturne, croiser les nuiteux.
Un arrÃªt prÃ¨s d'un bar, goÃ»ter un spiritueux,
Une invite au resto, dans un mood amoureux.

Te ramener ? Je prÃ©fÃ¨re attendre, pas trop me presser.
T'embrasser ? Pourquoi pas, mais tu es alcoolisÃ©e.
T'inviter ? Perturbant, c'est mon intimitÃ©.
Coucher ? Tentant, mais je ne veux profiter.

D'une balade arrosÃ©e, nous nous sommes rapprochÃ©s,
D'une belle soirÃ©e, nous nous sommes embrassÃ©s.
D'invitations improvisÃ©es, nous nous sommes cÃ¢linÃ©s,
D'une nuit agitÃ©e, nous nous sommes dÃ©sirÃ©s.

Main dans les cheveux, je t'ai caressÃ©e,
Puis t'ai embrassÃ©e, t'ai vu sourire et briller.
D'un dÃ©sir intense, tes yeux Ã  demi fermÃ©s,
Dans le feu du dÃ©sir, je t'ai vue t'abandonner.

De ces soirÃ©es inopinÃ©es,
Je n'oublierai l'amour portÃ©. 
De ces moments Ã©phÃ©mÃ¨res,
Conserverai ta lumiÃ¨re

Je t'aime sans m'attacher,  
Je souffre sans te blÃ¢mer.
Jaloux sans te possÃ©der,  
FrustrÃ© sans regretter.  

Pour toi toujours mon cÅ“ur battra,  
MÃªme si je sais qu'on ne se reverra.  

Je t'aime. Adieu.`,
        audio: "https://github.com/inforniacontact-art/Pepite/raw/refs/heads/main/Travel%20Island%20v2.mp3",
        musicTitle: "Travel Island",
        musicLink: "https://soundcloud.com/mickawolf/travel-island",
        volume: 0.7,
        styles: `
          :root {
            --bg-primary: #0a0506;
            --bg-secondary: #1a1012;
            --bg-accent: #2a1b1f;
            --text-primary: #f8f1f4;
            --text-secondary: #d4c2ca;
            --accent: #e8a87c;
            --accent-soft: #d49776;
            --cursor: #f0b090;
            --card-bg: rgba(26, 16, 18, 0.85);
            --card-border: rgba(232, 168, 124, 0.15);
            --button-bg: rgba(232, 168, 124, 0.1);
            --button-hover: rgba(232, 168, 124, 0.2);
            --shadow-soft: 0 8px 32px rgba(0, 0, 0, 0.4);
            --shadow-strong: 0 16px 48px rgba(0, 0, 0, 0.6);
          }
          body {
            background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 50%, var(--bg-accent) 100%);
            color: var(--text-primary);
          }
          .navbar {
            background: var(--card-bg);
            border-bottom: 1px solid var(--card-border);
            box-shadow: var(--shadow-soft);
          }
          .nav-link {
            color: var(--text-primary);
          }
          .nav-link:hover {
            background: var(--button-hover);
            color: var(--accent);
          }
          .title {
            color: var(--accent);
            text-shadow: 0 4px 20px rgba(232, 168, 124, 0.3);
          }
          .poem-container {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            box-shadow: var(--shadow-strong);
          }
          .poem {
            color: var(--text-primary);
          }
          .cursor {
            background: linear-gradient(180deg, var(--cursor) 0%, rgba(240, 176, 144, 0.3) 100%);
            box-shadow: 0 0 10px var(--cursor);
          }
          .btn {
            background: var(--button-bg);
            border: 1px solid var(--card-border);
            color: var(--text-primary);
          }
          .btn:hover {
            background: var(--button-hover);
            color: var(--accent);
            border-color: var(--accent-soft);
          }
          .particle {
            background: var(--accent);
            box-shadow: 0 0 3px var(--accent);
          }
          .soundcloud-widget, .audio-player {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            box-shadow: var(--shadow-soft);
          }
          .soundcloud-icon {
            fill: #ff5500;
          }
          .soundcloud-title, .audio-status {
            color: var(--text-primary);
          }
          .soundcloud-link {
            color: var(--accent);
          }
          .volume-slider {
            background: var(--card-border);
          }
          .volume-slider::-webkit-slider-thumb, .volume-slider::-moz-range-thumb {
            background: var(--accent);
          }
        `
      },
      bourgeon: {
        title: "Bourgeon Ã©carlate",
        text: `Tu m'as aidÃ© Ã  tuer le garÃ§on en Ã©moi
Une piÃ¨ce majeure, introuvable autrement
Puis Ã©veillÃ© l'Ãªtre qui sommeillait chez moi
Et t'ai offert l'ancien et son souffle expirant

Tout ce que j'ai fait fut d'un Ã©lan assumÃ©
Je n'ai point regardÃ© ce que ton cÅ“ur voulait.
J'ai dÃ©sirÃ© aimer, m'amÃ©liorer, offrir
Et consenti aux pleurs, aux souffrances, Ã  mourir

J'ai saisi ces instants comme une Ã©lÃ©vation
Et choisi sciemment, de vivre l'enseignement
Cela conduit maintenant Ã  sa sÃ©paration
J'ai prÃ©fÃ©rÃ© l'occire, goÃ»ter le saignement

C'est d'une vivacitÃ© et positivitÃ©
Que j'avance et renais au rythme du prÃ©sent
Je poursuis mon chemin d'un sourire affichÃ©
Et m'abreuve sans fin du cadavre d'antan`,
        audio: "https://github.com/inforniacontact-art/Pepite/raw/refs/heads/main/Morceau%20sans%20titre.mp3",
        musicTitle: "Musique d'ambiance",
        musicLink: "#",
        volume: 0.6,
        styles: `
          :root {
            --bg-primary: #1a0808;
            --bg-secondary: #2a1010;
            --bg-accent: #3a1515;
            --text-primary: #e8d4d4;
            --text-secondary: #c89999;
            --accent: #b83333;
            --accent-soft: #8a2424;
            --cursor: #cc4444;
            --card-bg: rgba(42, 16, 16, 0.75);
            --card-border: rgba(184, 51, 51, 0.25);
            --shadow-soft: 0 8px 32px rgba(0, 0, 0, 0.4);
            --shadow-strong: 0 16px 48px rgba(0, 0, 0, 0.6);
            --button-bg: rgba(184, 51, 51, 0.15);
            --button-hover: rgba(184, 51, 51, 0.3);
            --blood-primary: #8b0000;
            --blood-secondary: #660000;
          }
          body {
            background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 50%, var(--bg-accent) 100%);
            color: var(--text-primary);
          }
          .navbar {
            background: var(--card-bg);
            border-bottom: 1px solid var(--card-border);
            box-shadow: var(--shadow-soft);
          }
          .nav-link {
            color: var(--text-primary);
          }
          .nav-link:hover {
            background: var(--button-hover);
            color: var(--accent);
          }
          .title {
            color: var(--accent);
            text-shadow: 0 0 8px var(--accent-soft), 0 2px 12px var(--blood-secondary);
            animation: titleGlow 4s ease-in-out infinite alternate;
          }
          @keyframes titleGlow {
            0% {
              text-shadow: 0 0 8px var(--accent-soft), 0 2px 12px var(--blood-secondary);
            }
            100% {
              text-shadow: 0 0 12px var(--accent), 0 2px 18px var(--accent-soft), 0 0 24px var(--blood-primary);
            }
          }
          .poem-container {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            box-shadow: var(--shadow-strong);
          }
          .poem {
            color: var(--text-secondary);
            text-shadow: 0 0 4px var(--blood-secondary);
          }
          .cursor {
            background: linear-gradient(180deg, var(--cursor) 0%, rgba(204, 68, 68, 0.3) 100%);
            box-shadow: 0 0 6px var(--cursor);
          }
          .btn {
            background: var(--button-bg);
            border: 1px solid var(--card-border);
            color: var(--text-primary);
          }
          .btn:hover {
            background: var(--button-hover);
            color: var(--accent);
            border-color: var(--accent-soft);
          }
          .writing-line {
            animation: fadeInWrite 0.15s ease-in forwards, bloodPulse 3s ease-in-out infinite alternate;
          }
          @keyframes bloodPulse {
            0% {
              text-shadow: 0 0 2px var(--blood-secondary);
            }
            100% {
              text-shadow: 0 0 6px var(--blood-primary), 0 0 12px var(--blood-secondary);
            }
          }
          .soundcloud-widget, .audio-player {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            box-shadow: var(--shadow-soft);
          }
          .soundcloud-icon {
            fill: var(--accent);
          }
          .soundcloud-title {
            color: var(--text-primary);
          }
          .soundcloud-link {
            color: var(--accent);
          }
          .audio-status {
            color: var(--text-secondary);
          }
          .volume-slider {
            background: var(--card-border);
          }
          .volume-slider::-webkit-slider-thumb, .volume-slider::-moz-range-thumb {
            background: var(--accent);
          }
          .blood-drop {
            background: radial-gradient(circle at 30% 30%, var(--blood-primary) 0%, var(--blood-secondary) 60%, #440000 100%);
            box-shadow: inset -2px -2px 4px rgba(0,0,0,0.3), 0 0 8px rgba(139, 0, 0, 0.4);
          }
          .blood-trail {
            background: linear-gradient(to bottom, rgba(139, 0, 0, 0.6) 0%, rgba(139, 0, 0, 0.3) 50%, transparent 100%);
          }
        `
      }
    };

    // Ã‰tat global
    let currentPage = 'message';
    let idx = 0;
    let playing = false;
    let timeoutId = null;
    let audioInitialized = false;
    
    const el = document.getElementById("poem");
    const btnStart = document.getElementById("btnStart");
    const btnPlay = document.getElementById("btnPlay");
    const btnPause = document.getElementById("btnPause");
    const btnResume = document.getElementById("btnResume");
    const btnSkip = document.getElementById("btnSkip");
    const audio = document.getElementById("ambientAudio");
    const audioToggle = document.getElementById("audioToggle");
    const audioStatus = document.getElementById("audioStatus");
    const volumeSlider = document.getElementById("volumeSlider");
    const cursor = document.createElement("span");
    cursor.className = "cursor";

    // Fonction pour charger une page
    function loadPage(pageName) {
      const page = pages[pageName];
      if (!page) return;

      currentPage = pageName;
      
      // ArrÃªter l'animation en cours
      reset();
      
      // Mettre Ã  jour le titre
      document.getElementById('pageTitle').textContent = page.title;
      document.title = page.title;
      
      // Mettre Ã  jour les infos musique
      document.getElementById('musicTitle').textContent = page.musicTitle;
      document.getElementById('musicLink').href = page.musicLink;
      
      // Changer la source audio
      document.getElementById('audioSource').src = page.audio;
      audio.load();
      audio.volume = page.volume;
      volumeSlider.value = page.volume;
      
      // ArrÃªter l'audio
      audio.pause();
      audio.currentTime = 0;
      audioInitialized = false;
      updateAudioStatus(false, "Activer le son");
      
      // Appliquer les styles
      document.getElementById('dynamic-styles').textContent = page.styles;
      
      // Nettoyer les particules
      document.getElementById('particles').innerHTML = '';
      
      // CrÃ©er les effets selon la page
      if (pageName !== 'bourgeon') {
        createParticles();
      }
      
      // RÃ©initialiser le bouton start
      btnStart.style.display = 'inline-flex';
    }

    // Fonction pour obtenir le dÃ©lai de frappe
    function getDelayFor(c, p) {
      const base = currentPage === 'bourgeon' ? 60 : 50;
      if (c == "\n") {
        if (p == "\n") return currentPage === 'bourgeon' ? 1400 : 1200;
        return currentPage === 'bourgeon' ? 500 : 400;
      }
      if (c == " ") return base * 0.7;
      if (",;:".includes(c)) return currentPage === 'bourgeon' ? 250 : 200;
      if (".!?â€¦".includes(c)) return currentPage === 'bourgeon' ? 700 : 600;
      if (c == "â€”") return currentPage === 'bourgeon' ? 350 : 300;
      return base;
    }

    // Fonction d'animation de frappe
    function typeCharacter() {
      if (!playing || idx >= pages[currentPage].text.length) {
        if (idx >= pages[currentPage].text.length) ensureCursorAtEnd();
        return;
      }
      const text = pages[currentPage].text;
      const c = text[idx];
      const p = idx > 0 ? text[idx - 1] : "";
      const span = document.createElement("span");
      span.textContent = c;
      span.className = "writing-line";
      el.appendChild(span);
      ensureCursorAtEnd();
      if (c == "\n" || idx % 50 == 0) {
        setTimeout(() => {
          cursor.scrollIntoView({
            behavior: "smooth",
            block: "center",
            inline: "nearest",
          });
        }, 100);
      }
      idx++;
      const delay = getDelayFor(c, p);
      timeoutId = setTimeout(typeCharacter, delay);
    }

    function ensureCursorAtEnd() {
      if (cursor.parentNode) cursor.parentNode.removeChild(cursor);
      el.appendChild(cursor);
    }

    function play() {
      if (idx >= pages[currentPage].text.length) reset();
      playing = true;
      btnPlay.style.display = "none";
      btnPause.style.display = "inline-flex";
      btnResume.style.display = "none";
      typeCharacter();
    }

    function pause() {
      playing = false;
      clearTimeout(timeoutId);
      btnPause.style.display = "none";
      btnResume.style.display = "inline-flex";
    }

    function resume() {
      playing = true;
      btnResume.style.display = "none";
      btnPause.style.display = "inline-flex";
      typeCharacter();
    }

    function skipAll() {
      playing = false;
      clearTimeout(timeoutId);
      el.innerHTML = "";
      const lines = pages[currentPage].text.split("\n");
      lines.forEach((line, i) => {
        if (i > 0) {
          el.appendChild(document.createTextNode("\n"));
        }
        const span = document.createElement("span");
        span.textContent = line;
        span.style.animationDelay = `${i * 0.1}s`;
        span.className = "writing-line";
        el.appendChild(span);
      });
      ensureCursorAtEnd();
      idx = pages[currentPage].text.length;
      btnPlay.style.display = "inline-flex";
      btnPause.style.display = "none";
      btnResume.style.display = "none";
    }

    function reset() {
      playing = false;
      clearTimeout(timeoutId);
      idx = 0;
      el.innerHTML = "";
      btnPlay.style.display = "inline-flex";
      btnPause.style.display = "none";
      btnResume.style.display = "none";
    }

    function startExperience() {
      btnStart.style.display = "none";
      startAudioAutomatically();
      
      if (currentPage === 'bourgeon') {
        createBloodDrops();
      }
      
      play();
    }

    // Gestion audio
    function updateAudioStatus(p, text) {
      audioToggle.textContent = p ? "ðŸ”Š" : "ðŸ”‡";
      audioStatus.textContent = text;
    }

    function startAudioAutomatically() {
      audio.muted = true;
      audio
        .play()
        .then(() => {
          setTimeout(() => {
            audio.muted = false;
            audio.volume = pages[currentPage].volume;
            audioInitialized = true;
            updateAudioStatus(true, "En lecture");
          }, 100);
        })
        .catch(() => {
          audio.muted = false;
          audio.volume = pages[currentPage].volume;
          audio
            .play()
            .then(() => {
              audioInitialized = true;
              updateAudioStatus(true, "En lecture");
            })
            .catch(() => {
              updateAudioStatus(false, "Activer le son");
            });
        });
    }

    // Particules
    function createParticles() {
      const c = document.getElementById("particles");
      for (let i = 0; i < 15; i++) {
        const p = document.createElement("div");
        p.className = "particle";
        p.style.left = Math.random() * 100 + "%";
        p.style.animationDelay = Math.random() * 12 + "s";
        p.style.animationDuration = 8 + Math.random() * 8 + "s";
        c.appendChild(p);
      }
    }

    // Gouttes de sang pour Bourgeon
    function createBloodDrop() {
      const drop = document.createElement("div");
      drop.className = "blood-drop";
      const size = 4 + Math.random() * 8;
      drop.style.width = size + "px";
      drop.style.height = size + "px";
      drop.style.left = Math.random() * 100 + "%";
      const duration = 3 + Math.random() * 4;
      drop.style.animationDuration = duration + "s";
      drop.style.animationDelay = Math.random() * 2 + "s";
      
      const trail = document.createElement("div");
      trail.className = "blood-trail";
      trail.style.left = drop.style.left;
      trail.style.top = "0";
      trail.style.animationDuration = duration + "s";
      trail.style.animationDelay = drop.style.animationDelay;
      
      document.getElementById("particles").appendChild(drop);
      document.getElementById("particles").appendChild(trail);
      
      setTimeout(() => {
        if (drop.parentNode) drop.parentNode.removeChild(drop);
        if (trail.parentNode) trail.parentNode.removeChild(trail);
      }, (duration + 2) * 1000);
    }

    function createBloodDrops() {
      for (let i = 0; i < 8; i++) {
        setTimeout(() => createBloodDrop(), i * 500);
      }
      setInterval(() => {
        if (Math.random() < 0.7) {
          createBloodDrop();
        }
      }, 2000);
    }

    // Event listeners
    btnStart.addEventListener("click", startExperience);
    btnPlay.addEventListener("click", play);
    btnPause.addEventListener("click", pause);
    btnResume.addEventListener("click", resume);
    btnSkip.addEventListener("click", skipAll);

    audioToggle.addEventListener("click", () => {
      if (audio.paused) {
        audio.volume = parseFloat(volumeSlider.value);
        audio
          .play()
          .then(() => {
            audioInitialized = true;
            updateAudioStatus(true, "En lecture");
          })
          .catch(() => {
            updateAudioStatus(false, "Erreur audio");
          });
      } else {
        audio.pause();
        updateAudioStatus(false, "En pause");
      }
    });

    volumeSlider.addEventListener("input", (e) => {
      audio.volume = e.target.value;
      if (audioInitialized && !audio.paused) {
        updateAudioStatus(true, "En lecture");
      }
    });

    // Navigation
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const pageName = e.target.dataset.page;
        loadPage(pageName);
      });
    });

    // Initialisation
    loadPage('message');
    ensureCursorAtEnd();
  </script>
</body>
</html>